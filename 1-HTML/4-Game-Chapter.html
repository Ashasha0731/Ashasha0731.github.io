<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç« ç¯€ä¸­</title>
    <link rel="icon" type="image/png" href="../0-IMAGE/0_Nav/logo-éŠæˆ²å»³.png?v=1"> <!-- ç¶²ç«™åœ–æ¨™è¨­å®š -->
    <style>
        /* ==================== å…¨åŸŸæ¨£å¼ ==================== */
        body {
            background-image: url('../0-IMAGE/1_Guide-page/æ˜Ÿç©ºèƒŒæ™¯.gif');
            background-size: cover;
            /* è¦†è“‹æ•´å€‹å®¹å™¨ */
            background-repeat: repeat;
            /* é‡è¤‡æ–¹ä¾¿æ»¾å‹• */
            animation: move-bg 60s linear infinite;
        }

        @keyframes move-bg {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: -5000px 0;
            }

            /* å¾€å·¦ç§»å‹• */
        }

        /* ==================== å°è¦½åˆ— ====================== */
        #header-container {
            position: fixed;
            /* å›ºå®šåœ¨è¢å¹•é ‚ç«¯ */
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            /* å°è¦½åˆ—é«˜åº¦ */
            background-color: #333;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.4);
            /* æ‡¸æµ®æ„Ÿé™°å½± */
        }

        /* =================== è¿”å›ä¸Šä¸€é  ===================== */
        /* å·¦ä¸Šè§’è¿”å›æŒ‰éˆ• */
        .back-btn {
            position: fixed;
            top: 95px;
            left: 20px;
            z-index: 2000;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            border: 2px solid white;
            padding: 12px 18px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(250, 247, 247, 0.978);
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.05);
        }

        /* =================== ç« ç¯€æ¨™é¡Œ ===================== */
        .chapter-img {
            width: 750px;
            /* è®“åœ–ç‰‡æ¯”è¢å¹•å¤§ */
            height: 80px;
            position: fixed;
            left: 0px;
            top: 85px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center left;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .chapter-title {
            /*ç« ç¯€*/
            font-size: 40px;
            position: fixed;
            top: 95px;
            left: 110px;
            z-index: 100;
            color: rgb(255, 255, 255);
            text-shadow:
                0 0 5px #fff,
                0 0 10px rgb(0, 0, 0),
                0 0 20px rgb(0, 0, 0);
            font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            display: block;
            /* ç¢ºä¿å¯è¢«ç½®ä¸­ */
            width: 100%;
            /* å¯é¸ï¼Œä¿è­‰å æ»¿æ©«å‘ç½®ä¸­ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center left;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .chapter-img:hover,
        .chapter-title:hover {
            transform: scale(1.2);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
        }


        /* ==================== ç« ç¯€ç‰©ä»¶ ====================== */
        /* è‰åœ°img */
        .container-Grass {
            width: 100vw;
            /* è¦–çª—å¯¬åº¦ */
            height: 100vh;
            /* è¦–çª—é«˜åº¦ */
            overflow: hidden;
            /* è¶…å‡ºéƒ¨åˆ†è£å‰ª */
        }

        .img-Grass {
            width: 3000px;
            /* è®“åœ–ç‰‡æ¯”è¢å¹•å¤§ */
            height: 500px;
            position: fixed;
            left: -520px;
            bottom: 0px;
            z-index: -1;
            filter: drop-shadow(0px 0px 30px #47bef1ae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-5deg);
        }

        /* 0æ•™å­¸å…§å®¹img */
        .img-0 {
            width: 200px;
            height: 200px;
            position: fixed;
            left: 200px;
            bottom: 80px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-20deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-text0 {
            width: 300px;
            height: auto;
            position: fixed;
            left: 200px;
            bottom: 70px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-5deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-0:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
        }

        .img-text0:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
            z-index: 500;
            /* æ”¾å¤§æ™‚åœ¨æœ€ä¸Šå±¤ */
        }

        /* 1äº’å‹•æ¸¬é©—å€img */
        .img-1 {
            width: 280px;
            height: 280px;
            position: fixed;
            left: 450px;
            bottom: 195px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-5deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-text1 {
            width: 300px;
            height: auto;
            position: fixed;
            left: 550px;
            bottom: 380px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-5deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-1:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
        }

        .img-text1:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
            z-index: 500;
            /* æ”¾å¤§æ™‚åœ¨æœ€ä¸Šå±¤ */
        }

        /* 2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©—img */
        .img-2 {
            width: 400px;
            height: 400px;
            position: fixed;
            left: 950px;
            bottom: 200px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(-22deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-text2 {
            width: 300px;
            height: auto;
            position: fixed;
            left: 1000px;
            bottom: 190px;
            filter: drop-shadow(0px 0px 10px #ffffffae);
            /*å¢åŠ ç¬¦åˆPNGçš„é™°å½±*/
            transform: rotate(8deg);
            /* æ—‹è½‰  X åº¦ */
            transition: transform 0.3s ease;
            /* å¹³æ»‘éæ¸¡ */
            transform-origin: center bottom;
            /* å¾åº•éƒ¨ä¸­å¿ƒæ”¾å¤§ */
        }

        .img-2:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
        }

        .img-text2:hover {
            transform: scale(1.1) rotate(-20deg);
            /* ä¿æŒæ—‹è½‰è§’åº¦åŒæ™‚æ”¾å¤§ */
            z-index: 500;
            /* æ”¾å¤§æ™‚åœ¨æœ€ä¸Šå±¤ */
        }

        /* ===================== åº•åˆ— =================== */
        .footer {
            width: 100%;
            height: 50px;
            /* é«˜ä¸€é»æ›´èˆ’é© */
            position: fixed;
            bottom: 0;
            left: 0;
            z-index: 1000;

            /* æ¼¸å±¤ + åŠé€æ˜ + æ¯›ç»ç’ƒ */
            background: linear-gradient(120deg, rgba(9, 9, 9, 0.4), rgba(39, 40, 46, 0.6), rgba(15, 15, 15, 0.8));
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            /* é ‚éƒ¨ç´°é‚Šæ¡†å¢åŠ å±¤æ¬¡ */

            /* æ–‡å­—æ¨£å¼ */
            color: #ffffff;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 1px;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);

            /* ç½®ä¸­ */
            display: flex;
            justify-content: center;
            align-items: center;

            /* å‹•æ…‹å…‰æšˆï¼ˆå¯é¸ï¼‰ */
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2) inset;
        }


        /* ==================== å‰ç¥¥ç‰© ====================== */
        #Mrs_XL-2-container {
            position: fixed;
            /* å›ºå®šåœ¨è¢å¹•é ‚ç«¯ */
            z-index: 50000;
            font-size: 20px;
            box-shadow: 0 3px 12px rgba(255, 255, 255, 0.4);
            /* æ‡¸æµ®æ„Ÿé™°å½± */
        }

        /* ====== å½ˆå‡ºè¦–çª—å…§å®¹ ====== */
        /* è¦–çª—é è¨­éš±è— */
        /* å½ˆçª—æ·¡å…¥æ·¡å‡º */
        .ai-popup-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50%;
            height: 90%;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            z-index: 6000;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);

            /* å‹•ç•«æ•ˆæœ */
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .ai-popup-content.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .ai-popup-content iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
        }

        #close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: #ff4d4d;
            border: none;
            color: white;
            font-size: 18px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* ====== AIå‰ç¥¥ç‰©- å½ˆå‡ºè¦–çª— ====== */
        /* é®ç½©æ·¡å…¥æ·¡å‡º */
        #ai-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5000;

            /* å‹•ç•«æ•ˆæœ */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        #ai-popup.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>

<!--------------------------- html ----------------------------->

<body>
    <!-- å°è¦½åˆ— -->
    <header>
        <div id="header-container"></div>
        <button id="back-btn" class="back-btn" onclick="enterBack()">è¿”å›</button>
        <!-- ç« ç¯€æ¨™é¡Œ -->
        <img class="chapter-img" src="../0-IMAGE/4-Game-Chapter/ç« ç¯€æ——å¹Ÿ.png" alt="ç« ç¯€æ——å¹Ÿ">
        <span id="chapterTitle" class="chapter-title">ç¬¬ä¸€ç«  ç¶²é å®‰å…¨æ¢ç´¢</span>
    </header>

    <!-- å›ºå®šå…ƒç´ -å‰ç¥¥ç‰© + å°è©±æ¡† -->
    <div id="Mrs_XL-2-container"></div>
    <!-- åµŒå…¥colabAI -->
    <div id="ai-popup">
        <!-- âœ… éš±è—çš„å½ˆå‡ºè¦–çª—(AIå°è©±) -->
        <div class="ai-popup-content" id="aiPopup">
            <iframe src="0.11_colabAI.html" frameborder="0"></iframe>
            <button id="close-btn">âœ•</button>
        </div>
    </div>

    <!-- ä¸»é é¢ -->
    <main>
        <!-- è‰åœ° -->
        <div class="container-Grass"><img class="img-Grass" src="../0-IMAGE/4-Game-Chapter/æœˆäº®.png" alt="æœˆäº®Grass"></div>
        <!-- ç« ç¯€ç´°é …æŒ‰éˆ• -->
        <div>
            <!-- 0æ•™å­¸å…§å®¹ -->
            <a class="container-0">
                <buttom onclick="enterTeach0()">
                    <img class="img-0" src="../0-IMAGE/4-Game-Chapter/0æ•™å­¸å…§å®¹.png" alt="0æ•™å­¸å…§å®¹">
                    <img class="img-text0" src="../0-IMAGE/4-Game-Chapter/0æ•™å­¸å…§å®¹-text.png" alt="0æ•™å­¸å…§å®¹_æ–‡å­—">
                </buttom>
            </a>
            <!-- 1äº’å‹•æ¸¬é©—å€ -->
            <a class="container-1">
                <buttom onclick="enterInteractive1()">
                    <img class="img-1" src="../0-IMAGE/4-Game-Chapter/1äº’å‹•æ¸¬é©—å€.png" alt="1äº’å‹•æ¸¬é©—å€">
                    <img class="img-text1" src="../0-IMAGE/4-Game-Chapter/1äº’å‹•æ¸¬é©—å€-text.png" alt="0æ•™å­¸å…§å®¹_æ–‡å­—">
                </buttom>
            </a>
            <!-- 2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©— -->
            <a class="container-2">
                <buttom onclick="enterSimulation2()">
                    <img class="img-2" src="../0-IMAGE/4-Game-Chapter/2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©—.png" alt="2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©—">
                    <img class="img-text2" src="../0-IMAGE/4-Game-Chapter/2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©—-text.png" alt="0æ•™å­¸å…§å®¹_æ–‡å­—">
                </buttom>
            </a>
        </div>


    </main>



    <!-- é å°¾ -->
    <footer class="footer">
        <!-- å¯æ”¾æ–‡å­—æˆ–æŒ‰éˆ• -->
        <span>Â© 2025 ä¸­å­¸ç”Ÿè³‡è¨Šå®‰å…¨ç¶²</span>
    </footer>



    <!---------------------------- JS ------------------------------>
    <!-- å°è¦½åˆ— -->
    <script>
        //è¼‰å…¥å°è¦½åˆ—    // ä½¿ç”¨ fetch è¼‰å…¥ header.html
        fetch('./0_Nav-2.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            })
            .catch(error => {
                console.error('è¼‰å…¥ HTML å¤±æ•—:', error);
            });
    </script>

    <!-- ğŸ¤– è¼‰å…¥å‰ç¥¥ç‰© & AI åŠ©æ‰‹å½ˆçª— -->
    <script>
        /* ------------------------
        åŠŸèƒ½ï¼šè¼‰å…¥å‰ç¥¥ç‰© HTMLï¼ˆå«äº’å‹•èˆ‡AIåŠ©æ‰‹é–‹å•Ÿï¼‰
        èªªæ˜ï¼š
        1ï¸âƒ£ fetch è¼‰å…¥å‰ç¥¥ç‰©æª”æ¡ˆã€Œ0.1_Mrs_XL-2.htmlã€
        2ï¸âƒ£ é‡æ–°åŸ·è¡Œå…§åµŒ script
        3ï¸âƒ£ ç¶å®šé»æ“Šå‰ç¥¥ç‰© â†’ é–‹å•Ÿ AI åŠ©æ‰‹å½ˆçª—
        ------------------------ */
        fetch('./0.1_Mrs_XL-2.html')
            .then(res => res.text())
            .then(html => {
                const container = document.getElementById('Mrs_XL-2-container');
                container.innerHTML = html;

                // é‡æ–°åŸ·è¡Œå‰ç¥¥ç‰©å…§åµŒ script
                const scripts = container.querySelectorAll('script');
                scripts.forEach(oldScript => {
                    const newScript = document.createElement('script');
                    if (oldScript.src) newScript.src = oldScript.src;
                    else newScript.textContent = oldScript.textContent;
                    document.body.appendChild(newScript);
                });

                // ç¶å®šå‰ç¥¥ç‰© â†’ é–‹å•Ÿ/é—œé–‰ AI åŠ©æ‰‹è¦–çª—
                const mascot = document.getElementById("Mrs_XL-2-container");
                const aiPopupContainer = document.getElementById("ai-popup");
                const aiPopupContent = document.getElementById("aiPopup");
                const closeBtn = document.getElementById("close-btn");

                if (mascot && aiPopupContainer && aiPopupContent && closeBtn) {
                    mascot.addEventListener("click", () => {
                        aiPopupContainer.classList.add("show");
                        aiPopupContent.classList.add("show");
                    });

                    function closePopup() {
                        aiPopupContent.classList.remove("show");
                        aiPopupContainer.classList.remove("show");
                    }

                    closeBtn.addEventListener("click", closePopup);

                    // é»æ“Šé®ç½©é—œé–‰
                    aiPopupContainer.addEventListener("click", e => {
                        if (e.target === e.currentTarget) closePopup();
                    });
                }
            });
    </script>

    <!-- 4-Game-Chapter.html -->
    <!-- åˆ‡æ›å°æ‡‰ä¹‹ç« ç¯€å…§å®¹ -->
    <script>
        // æ¨™é¡Œ
        const params = new URLSearchParams(window.location.search);
        const title = params.get('title');
        const subtitle = params.get('subtitle');
        const playerName = sessionStorage.getItem('playerName') || "æœªå‘½åç©å®¶";
        const playerGrade = sessionStorage.getItem('playerGrade') || "æœªè¨­å®šå¹´ç´š";

        sessionStorage.setItem('currentChapterTitle', title);
        sessionStorage.setItem('currentChapterSubtitle', subtitle);
        sessionStorage.setItem('currentPlayerName', playerName);
        sessionStorage.setItem('currentPlayerGrade', playerGrade);
        // é€šç”¨è·³è½‰ functionï¼š è½‰è·³é é¢ï¼Œä¸¦å¸¶ä¸Š title & subtitle åƒæ•¸

        console.log(title, subtitle, playerName, playerGrade); // ç¢ºèªä½¿ç”¨çš„è³‡æ–™

        document.getElementById('chapterTitle').innerHTML = `${title || 'ç« ç¯€æœªå®šç¾©'}ã€€<span>${subtitle || ''}</span>`;

        function goToPage(page) {
            const encodedTitle = encodeURIComponent(title || '');
            const encodedSubtitle = encodeURIComponent(subtitle || '');
            window.location.href = `${page}.html?title=${encodeURIComponent(title)}&subtitle=${encodeURIComponent(subtitle)}&playerName=${encodeURIComponent(playerName)}&playerGrade=${encodeURIComponent(playerGrade)}`;

        }
        // â–¶è¿”å›æŒ‰éˆ•
        function enterBack() { goToPage('3-Game-List-Chapter'); }
        // â–¶æŒ‰éˆ•-0æ•™å­¸å…§å®¹
        function enterTeach0() { goToPage('4.1-Chapter_teach'); }
        // â–¶æŒ‰éˆ•-1äº’å‹•æ¸¬é©—å€
        function enterInteractive1() { goToPage('4.2-Chapter_interactive'); }
        // â–¶æŒ‰éˆ•-2å¯¦å¢ƒæ¨¡æ“¬æ¸¬é©—
        function enterSimulation2() { goToPage('4.3-Chapter_simulation'); }
    </script>

</body>

</html>